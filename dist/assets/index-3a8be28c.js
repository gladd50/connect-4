(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function C(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(o){if(o.ep)return;o.ep=!0;const e=C(o);fetch(o.href,e)}})();const T=(()=>{const w=(o,e,t,l,r)=>{if(e){r.textContent="Computer",t.style.display="inline-flex",l.style.display="none",o.showModal();return}r.textContent="Multiplayer",t.style.display="none",l.style.display="flex",o.showModal()},f=o=>{o.close()};return{openDialog:w,closeDialog:f,changeDis:(o,e,t,l,r)=>{r?e().checked=!o().checked:o().checked=!e().checked,t().textContent=t().textContent=="Red"?"Green":"Red",l().textContent=l().textContent=="Green"?"Red":"Green"},getData:(o,e,t,l,r)=>{r.preventDefault();let c=o().checked?"Red":"Green",s=o().checked?"Green":"Red",p=e();if(t.style.display==="none")return f(l),{player1:"player1",player2:"player2",color:[c,s],difficulty:null};for(let i of p)if(i.checked){p=i.value;break}return f(l),{player1:"player1",player2:"Bot",color:[c,s],difficulty:p}}}})(),V=6,h=7,n=(()=>{const w=()=>{let l="0";return{addMark:s=>{l=s},getValue:()=>l}},f=[];for(let l=0;l<V;l++){f[l]=[];for(let r=0;r<h;r++)f[l].push(w())}const C=l=>{for(let r=5;r>=0;r--)if(n.getBoard()[r][l].getValue()==="0")return r;return-1};return{markCell:(l,r)=>{let c=C(l);return c<=-1?"stop":(f[c][l].addMark(r),c)},getBoard:()=>f,resetBoard:()=>{for(let l=0;l<V;l++)for(let r=0;r<h;r++)n.getBoard()[l][r].addMark("0")},getEmptyCells:()=>{let l=[];for(let r=0;r<h;r++)C(r)!==-1&&l.push({row:C(r),col:r});return l}}})(),b=(()=>{const w=e=>[{player:e.player1,color:e.color[0],token:"O"},{player:e.player2,color:e.color[1],token:"X"}];let f=e=>e[0];const C=(e,t)=>(e=e===t[0]?t[1]:t[0],e),a=()=>{for(let e=0;e<V;e++)for(let t=0;t<h-3;t++)if(n.getBoard()[e][t].getValue()!=="0"&&n.getBoard()[e][t].getValue()===n.getBoard()[e][t+1].getValue()&&n.getBoard()[e][t].getValue()===n.getBoard()[e][t+2].getValue()&&n.getBoard()[e][t].getValue()===n.getBoard()[e][t+3].getValue())return{rows:[e,e,e,e],cols:[t,t+1,t+2,t+3],winner:n.getBoard()[e][t].getValue()};for(let e=0;e<h;e++)for(let t=0;t<V-3;t++)if(n.getBoard()[t][e].getValue()!=="0"&&n.getBoard()[t][e].getValue()===n.getBoard()[t+1][e].getValue()&&n.getBoard()[t][e].getValue()===n.getBoard()[t+2][e].getValue()&&n.getBoard()[t][e].getValue()===n.getBoard()[t+3][e].getValue())return{rows:[t,t+1,t+2,t+3],cols:[e,e,e,e],winner:n.getBoard()[t][e].getValue()};for(let e=0;e<V-3;e++)for(let t=0;t<=h-3;t++)if(n.getBoard()[e][t].getValue()!=="0"&&n.getBoard()[e][t].getValue()===n.getBoard()[e+1][t+1].getValue()&&n.getBoard()[e][t].getValue()===n.getBoard()[e+2][t+2].getValue()&&n.getBoard()[e][t].getValue()===n.getBoard()[e+3][t+3].getValue())return{rows:[e,e+1,e+2,e+3],cols:[t,t+1,t+2,t+3],winner:n.getBoard()[e][t].getValue()};for(let e=3;e<V;e++)for(let t=0;t<h-3;t++)if(n.getBoard()[e][t].getValue()!=="0"&&n.getBoard()[e][t].getValue()===n.getBoard()[e-1][t+1].getValue()&&n.getBoard()[e][t].getValue()===n.getBoard()[e-2][t+2].getValue()&&n.getBoard()[e][t].getValue()===n.getBoard()[e-3][t+3].getValue())return{rows:[e,e-1,e-2,e-3],cols:[t,t+1,t+2,t+3],winner:n.getBoard()[e][t].getValue()};return 0};return{game:e=>{const t=w(e);let l=f(t);return{play:c=>{let s=n.markCell(c,l.token);if(s==="stop")return{unavailRow:!0};l=C(l,t);let p=a();if(p){let i;return l===t[1]?(l=C(l,t),i=!0,{row:s,playerTurn:l,winCell:p,player1win:i}):(i=!1,{row:s,playerTurn:l,winCell:p,player1win:i})}return{row:s,playerTurn:l}}}},checkWin:a}})(),D=(()=>{const w=r=>{r.style.display="none",document.querySelector(".main-game").style.display="grid"},f=()=>{let r=document.createElement("div");r.classList.add("board");for(let c=0;c<42;c++){let s=document.createElement("div");s.classList.add("cell"),s.setAttribute("data-col",Math.floor(c%7)),s.setAttribute("data-row",Math.floor(c/7)),r.append(s)}document.querySelector(".board-cont").append(r)},C=()=>{const r=()=>document.querySelector(".board");r()&&r().remove()},a=(()=>{let r=19;const c=document.querySelector(".clock"),s=()=>document.querySelector(".clock").textContent;let p;return{startTimer:()=>{const m=()=>{c.textContent="00:20",r=19};return p=setInterval(()=>{c.textContent=r>9?`00:${r}`:`00:0${r}`,r||clearInterval(p),r--},1e3),{resetTimer:m}},pauseTimer:()=>{clearInterval(p)},getTime:s}})(),o=()=>({displayUnderline:i=>{let g=document.querySelector(`.${i}-cont > .underline`);g.classList.remove("win-Red"),g.classList.remove("win-Green");let m=0,B=setInterval(()=>{g.style.width=`${m}px`,m+=5,m>120&&clearInterval(B)},10)},clearUnderline:i=>{let g=document.querySelector(`.${i}-cont > .underline`),m=120,B=setInterval(()=>{g.style.width=`${m}px`,m-=5,m<0&&clearInterval(B)},10)},fClearUnderline:i=>{let g=document.querySelector(`.${i}-cont > .underline`);g.style.width="0px"},displayWinner:(i,g)=>{let m=document.querySelector(`.${i}-cont > .underline`);m.classList.add(`win-${g}`);let B=0,v=setInterval(()=>{m.style.width=`${B}px`,B+=5,B>120&&clearInterval(v)},10)}}),e=()=>{document.querySelector(".board").classList.add("disabled")},t=()=>{document.querySelector(".board").classList.remove("disabled")};return(()=>{const r=document.querySelector(".pause-s"),c=document.querySelector(".n-home-s"),s=document.querySelector(".n-reset-s"),p=document.querySelector(".n-pause-s"),i=document.querySelector(".home"),g=document.querySelector(".reset"),m=document.querySelector(".pause"),B=()=>document.querySelectorAll(".cell"),v=()=>{r.classList.toggle("fa-pause"),r.classList.toggle("fa-play")},q=()=>{const S=document.querySelector(".drop-content");S.classList.contains("display-flex")?(S.classList.add("display-none"),S.classList.remove("display-flex"),a.startTimer(),t()):(S.classList.add("display-flex"),S.classList.remove("display-none"),a.pauseTimer(),e())},u=S=>{t(),S?(a.startTimer().resetTimer(),a.pauseTimer(),q()):(r.classList.contains("fa-play")&&v(),a.pauseTimer(),a.startTimer().resetTimer()),n.resetBoard(),o().fClearUnderline("player2"),o().fClearUnderline("player1"),o().displayUnderline("player1"),B().forEach(L=>{L.classList.remove("cell-Red"),L.classList.remove("cell-Green"),L.classList.remove("cell-win")})},d=()=>{r.classList.contains("fa-play")&&v();const S=document.querySelector(".main-game"),L=document.querySelector(".main-home"),k=document.querySelector(".drop-content");S.style.display="none",k.classList.add("display-none"),k.classList.remove("display-flex"),L.style.display="grid",a.pauseTimer(),C(),n.resetBoard()},y=()=>{r.classList.contains("fa-pause")?(a.pauseTimer(),e()):r.classList.contains("fa-play")&&(a.startTimer(),t()),v()};i.addEventListener("click",d),g.addEventListener("click",()=>u(!0)),m.addEventListener("click",q),c.addEventListener("click",d),s.addEventListener("click",()=>u(!1)),p.addEventListener("click",y)})(),{init:(r,c,s)=>{w(r),f(),(()=>{const p=c(),i=b.game(s),g=o();g.displayUnderline("player1"),a.startTimer().resetTimer();const m=u=>{for(let d=0;d<4;d++)document.querySelector(`[data-col="${u.winCell.cols[d]}"][data-row="${u.winCell.rows[d]}"]`).classList.add("cell-win");o().fClearUnderline("player2"),o().fClearUnderline("player1"),u.player1win?o().displayWinner(`${u.playerTurn.player}`,`${u.playerTurn.color}`):o().displayWinner(`${u.playerTurn.player==="player1"?"player2":"player1"}`,`${u.playerTurn.color==="Red"?"Green":"Red"}`),e(),a.pauseTimer()},B=(u,d,y)=>{let S=document.querySelector(`[data-col="${u}"][data-row="${d.row}"]`);if(y)S.classList.add(`cell-${d.playerTurn.color}`);else{let L=d.playerTurn.color==="Red"?"Green":"Red";S.classList.add(`cell-${L}`)}},v=u=>{let d=u.playerTurn.player==="player1"?"player2":"player1";g.clearUnderline(d),g.displayUnderline(u.playerTurn.player)};({timeOutInterval:setInterval(()=>{if(a.getTime()==="00:00"){const d=Math.floor(Math.random()*7),y=i.play(d);if(y.unavailRow)return 0;if(y.player1win?B(d,y,!0):B(d,y,!1),y.winCell)return m(y);v(y),a.pauseTimer(),a.startTimer().resetTimer()}},1e3)});const q=u=>{const d=u.target.dataset.col,y=i.play(d);if(y.unavailRow)return 0;if(y.player1win?B(d,y,!0):B(d,y,!1),y.winCell)return m(y);v(y),a.pauseTimer(),a.startTimer().resetTimer()};p.forEach(u=>{u.addEventListener("click",d=>q(d))})})()}}})();console.log("hola");const E=()=>({titleCont:document.querySelector(".main-home"),mulBtn:document.querySelector(".mul-btn"),aiBtn:document.querySelector(".ai-btn"),titleDialog:document.querySelector(".title-dial-cont"),closeDialBtn:document.querySelector(".close-btn"),submitBtn:document.querySelector("#sbt-btn"),player2ColCont:document.querySelector("#t-s-cont-p2"),difCont:document.querySelector(".difficulty-switch"),dialTitle:document.querySelector(".comp-modal-title"),player2Col:()=>document.querySelector("#p2col"),player1Col:()=>document.querySelector("#p1col"),player1ColDis:()=>document.querySelector('[for="p1col"]'),player2ColDis:()=>document.querySelector('[for="p2col"]'),difficulty:()=>document.querySelectorAll('[name="dif"]'),getCells:()=>document.querySelectorAll(".cell"),getBoard:()=>document.querySelectorAll(".board")});(()=>{const{titleCont:w,aiBtn:f,mulBtn:C,titleDialog:a,closeDialBtn:o,submitBtn:e,player2ColCont:t,difCont:l,dialTitle:r,player2Col:c,player1Col:s,player1ColDis:p,player2ColDis:i,difficulty:g,getCells:m,getBoard:B}=E();let v;return f.addEventListener("click",()=>T.openDialog(a,!0,l,t,r)),C.addEventListener("click",()=>T.openDialog(a,!1,l,t,r)),o.addEventListener("click",()=>T.closeDialog(a)),s().addEventListener("click",()=>T.changeDis(s,c,p,i,!0)),c().addEventListener("click",()=>T.changeDis(s,c,p,i,!1)),e.addEventListener("click",q=>{v=T.getData(s,g,l,a,q),D.init(w,m,v,B)}),{gameData:v}})();
